:root{
  --bg:#0b1220; --fg:#e8eefc; --muted:#9fb3d9; --card:#111a2e;
  --ok:#3cb371; --warn:#f2a900; --crit:#d90429;
}

/* Layout base a pantalla completa */
html,body{margin:0;padding:0;width:100%;height:100%;background:var(--bg);color:var(--fg);
  font:13px/1.4 system-ui,Segoe UI,Roboto,Ubuntu;overflow:hidden;}
header{display:flex;align-items:center;justify-content:space-between;gap:10px;
  padding:10px 14px;border-bottom:1px solid #1a2643;flex-wrap:wrap;}
.toolbar{display:flex;gap:8px;align-items:center;}
.wrap{box-sizing:border-box;width:100%;height:calc(100% - 48px);padding:12px;overflow:auto;}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(380px,1fr));gap:12px;}

/* Tarjeta compacta */
.panel{background:var(--card);border-radius:12px;padding:10px;box-shadow:0 4px 12px rgba(0,0,0,.25);
  display:flex;flex-direction:column;gap:8px;min-height:0;}
.title{font-size:14px;font-weight:700;}
.row{display:flex;gap:8px;align-items:center;}
.row.space{justify-content:space-between;}

.btn{background:#0c1730;color:var(--fg);border:1px solid #22355f;border-radius:10px;padding:6px 10px;cursor:pointer;}
.btn.danger{border-color:#5a1b1b;}
input,select{width:100%;background:#0c1730;color:var(--fg);border:1px solid #22355f;border-radius:10px;padding:6px 8px;}
label{display:block;font-weight:600;margin:6px 0 4px;}

.pill{padding:2px 7px;border-radius:999px;font-weight:700;font-size:11px}
.pill.ok{background:rgba(60,179,113,.15);color:var(--ok);border:1px solid rgba(60,179,113,.35)}
.pill.warn{background:rgba(242,169,0,.12);color:var(--warn);border:1px solid rgba(242,169,0,.35)}
.pill.crit{background:rgba(217,4,41,.12);color:var(--crit);border:1px solid rgba(217,4,41,.35)}

/* KPIs más chicas */
.kpis{display:flex;gap:8px;flex-wrap:wrap;margin:4px 0;}
.kpi{flex:1 1 110px;background:#0e1b36;border:1px solid #21345e;border-radius:8px;padding:6px;min-width:110px;}
.kpi .v{font-size:14px;font-weight:700;}
.kpi .t{font-size:10px;color:var(--muted);}

/* Secciones apretadas */
.section{margin-top:6px;flex:0 0 auto;}
.section h4{margin:0 0 4px;font-size:12px;color:var(--muted);font-weight:600;}

.muted{color:var(--muted);}

/* Detalles SQL compacto (2 por fila, elipsis en valores largos) */
.kv2{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:6px 10px;}
.kv2 .pair{display:grid;grid-template-columns:.9fr 1.1fr;align-items:center;background:#0e1b36;
  border:1px solid #21345e;border-radius:8px;padding:5px 8px;min-width:0;}
.kv2 .k{font-size:10px;color:var(--muted);white-space:nowrap;margin-right:8px;}
.kv2 .v{font-size:12px;font-weight:600;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}

/* Alertas más compactas */
.alerts{max-height:80px;overflow:auto;border:1px solid #21345e;border-radius:8px;padding:4px;background:#0e1b36;}
.alert-item{display:flex;gap:6px;justify-content:space-between;font-size:11px;border-bottom:1px dashed #23355f;padding:2px 0;}
.alert-item:last-child{border-bottom:none}

/* === Gráficos === */
/* Por defecto, chicos */
canvas{max-height:110px !important;}
/* El gráfico principal de la tarjeta (con class="chart-main") MÁS GRANDE */
.chart-main{max-height:220px !important;height:220px !important;}
/* En modales, que ocupen buena parte del alto */
.modal .box canvas{max-height:70vh !important;height:auto;}

/* Modal fullscreen cómodo */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.6);z-index:1000;}
.modal.show{display:flex;}
.modal .box{width:95vw;height:90vh;background:var(--card);border:1px solid #243861;border-radius:16px;
  padding:14px;box-shadow:0 14px 40px rgba(0,0,0,.5);overflow:auto;box-sizing:border-box;}

@media (max-width:900px){
  .wrap{padding:10px;}
  .grid{grid-template-columns:1fr;}
}
/* botón pequeño para el toggle */
.btn.btn-xs{ padding:4px 8px; font-size:11px; border-radius:8px; }

/* contenedor colapsable con transición */
.sql-details{
  overflow:hidden;
  max-height:0;
  transition:max-height .25s ease;
}
.sql-details.open{
  /* la altura se fija vía JS con scrollHeight */
}

/* layout compacto que ya usas para los pares */
.kv2{ display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:6px 10px; }
.kv2 .pair{ display:grid; grid-template-columns:.9fr 1.1fr; align-items:center; background:#0e1b36;
  border:1px solid #21345e; border-radius:8px; padding:5px 8px; min-width:0; }
.kv2 .k{ font-size:10px; color:var(--muted); white-space:nowrap; margin-right:8px; }
.kv2 .v{ font-size:12px; font-weight:600; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

.chart-main {
  max-height:280px !important;
  height:280px !important;
  margin-top:6px;
  margin-bottom:6px;
}
